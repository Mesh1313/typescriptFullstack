"use strict";
var express = require("express");
var errorHandler = require("errorhandler");
var methodOverride = require("method-override");
var bodyParser = require('body-parser');
var mongoose = require('mongoose');
var routes = require("./server-src/routes/index");
var api = require("./server-src/routes/api");
var app = express();
// Configuration
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json());
app.use(methodOverride());
app.use(express.static(__dirname + '/frontend'));
var env = process.env.NODE_ENV || 'development';
if (env === 'development') {
    app.use(errorHandler());
}
var dbName = 'userDB';
mongoose.connect('mongodb://localhost/' + dbName);
// Routes
api.initRoutes(app);
app.get('/', routes.index);
app.get('/*', function (req, res) {
    res.redirect('/');
});
app.listen(3000, function () {
    console.log("Demo Express server listening on port %d in %s mode", 3000, app.settings.env);
});
exports.App = app;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBWSxPQUFPLFdBQU0sU0FBUyxDQUFDLENBQUE7QUFDbkMsSUFBWSxZQUFZLFdBQU0sY0FBYyxDQUFDLENBQUE7QUFDN0MsSUFBWSxjQUFjLFdBQU0saUJBQWlCLENBQUMsQ0FBQTtBQUNsRCxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDeEMsSUFBWSxRQUFRLFdBQU0sVUFBVSxDQUFDLENBQUE7QUFDckMsSUFBWSxNQUFNLFdBQU0sMkJBQTJCLENBQUMsQ0FBQTtBQUNwRCxJQUFZLEdBQUcsV0FBTSx5QkFBeUIsQ0FBQyxDQUFBO0FBRS9DLElBQUksR0FBRyxHQUFHLE9BQU8sRUFBRSxDQUFDO0FBRXBCLGdCQUFnQjtBQUNoQixHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25ELEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDM0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLEdBQUcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUVqRCxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxhQUFhLENBQUM7QUFDaEQsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDeEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQzVCLENBQUM7QUFFRCxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDdEIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxNQUFNLENBQUMsQ0FBQztBQUVsRCxTQUFTO0FBQ1QsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRztJQUNuQixHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3RCLENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7SUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLHFEQUFxRCxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9GLENBQUMsQ0FBQyxDQUFDO0FBRVEsV0FBRyxHQUFHLEdBQUcsQ0FBQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgKiBhcyBlcnJvckhhbmRsZXIgZnJvbSBcImVycm9yaGFuZGxlclwiO1xuaW1wb3J0ICogYXMgbWV0aG9kT3ZlcnJpZGUgZnJvbSBcIm1ldGhvZC1vdmVycmlkZVwiO1xudmFyIGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xuaW1wb3J0ICogYXMgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0ICogYXMgcm91dGVzIGZyb20gXCIuL3NlcnZlci1zcmMvcm91dGVzL2luZGV4XCI7XG5pbXBvcnQgKiBhcyBhcGkgZnJvbSBcIi4vc2VydmVyLXNyYy9yb3V0ZXMvYXBpXCI7XG5cbnZhciBhcHAgPSBleHByZXNzKCk7XG5cbi8vIENvbmZpZ3VyYXRpb25cbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKG1ldGhvZE92ZXJyaWRlKCkpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnL2Zyb250ZW5kJykpO1xuXG52YXIgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcbmlmIChlbnYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBhcHAudXNlKGVycm9ySGFuZGxlcigpKTtcbn1cblxudmFyIGRiTmFtZSA9ICd1c2VyREInO1xubW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovL2xvY2FsaG9zdC8nICsgZGJOYW1lKTtcblxuLy8gUm91dGVzXG5hcGkuaW5pdFJvdXRlcyhhcHApO1xuYXBwLmdldCgnLycsIHJvdXRlcy5pbmRleCk7XG5hcHAuZ2V0KCcvKicsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5yZWRpcmVjdCgnLycpO1xufSk7XG5cbmFwcC5saXN0ZW4oMzAwMCwgZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZyhcIkRlbW8gRXhwcmVzcyBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgJWQgaW4gJXMgbW9kZVwiLCAzMDAwLCBhcHAuc2V0dGluZ3MuZW52KTtcbn0pO1xuXG5leHBvcnQgdmFyIEFwcCA9IGFwcDsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
