"use strict";
var UserController = require("../controllers/users.controller");
function init(app) {
    app.post('/api/users', function (req, res) {
        console.log('adding user ' + JSON.stringify(req.body));
        UserController.insertUser(req.body, function (user) {
            res.json(user);
        });
    });
    app.get('/api/users', function (req, res) {
        console.log('getting users');
        UserController.getUsers(function (users) {
            res.json(users);
        });
    });
    app.get('/api/users/:userid', function (req, res) {
        console.log('getting user _id:' + req.params.userid);
        UserController.getUser(req.params.userid, function (user) {
            res.json(user);
        });
    });
    app.delete('/api/users/:id', function (req, res) {
        console.log('delete user _id: ' + req.params.id);
        UserController.deleteUser(req.params.id, function (result) {
            res.json(result);
        });
    });
}
exports.init = init;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy9hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVksY0FBYyxXQUFNLGlDQUFpQyxDQUFDLENBQUE7QUFFbEUsY0FBc0IsR0FBRztJQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO1FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdkQsY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFVBQUEsSUFBSTtZQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQyxDQUFDLENBQUM7SUFFSCxHQUFHLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO1FBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0IsY0FBYyxDQUFDLFFBQVEsQ0FBQyxVQUFBLEtBQUs7WUFDekIsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQyxDQUFDO0lBRUgsR0FBRyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO1FBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRCxjQUFjLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFVBQUEsSUFBSTtZQUMxQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7UUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsVUFBQSxNQUFNO1lBQzNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUE1QmUsWUFBSSxPQTRCbkIsQ0FBQSIsImZpbGUiOiJyb3V0ZXMvYXBpLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3VzZXJzLmNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQgKGFwcCkge1xuICAgIGFwcC5wb3N0KCcvYXBpL3VzZXJzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRpbmcgdXNlciAnICsgSlNPTi5zdHJpbmdpZnkocmVxLmJvZHkpKTtcbiAgICAgICAgVXNlckNvbnRyb2xsZXIuaW5zZXJ0VXNlcihyZXEuYm9keSwgdXNlciA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih1c2VyKTtcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIGFwcC5nZXQoJy9hcGkvdXNlcnMnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2dldHRpbmcgdXNlcnMnKTtcbiAgICAgICAgVXNlckNvbnRyb2xsZXIuZ2V0VXNlcnModXNlcnMgPT4ge1xuICAgICAgICAgICAgcmVzLmpzb24odXNlcnMpO1xuICAgICAgICB9KVxuICAgIH0pO1xuXG4gICAgYXBwLmdldCgnL2FwaS91c2Vycy86dXNlcmlkJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXR0aW5nIHVzZXIgX2lkOicgKyByZXEucGFyYW1zLnVzZXJpZCk7XG4gICAgICAgIFVzZXJDb250cm9sbGVyLmdldFVzZXIocmVxLnBhcmFtcy51c2VyaWQsIHVzZXIgPT4ge1xuICAgICAgICAgICAgcmVzLmpzb24odXNlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYXBwLmRlbGV0ZSgnL2FwaS91c2Vycy86aWQnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSB1c2VyIF9pZDogJyArIHJlcS5wYXJhbXMuaWQpO1xuICAgICAgICBVc2VyQ29udHJvbGxlci5kZWxldGVVc2VyKHJlcS5wYXJhbXMuaWQsIHJlc3VsdCA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihyZXN1bHQpO1xuICAgICAgICB9KVxuICAgIH0pO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
