"use strict";
var users_controller_1 = require("../controllers/users.controller");
function initRoutes(app) {
    var userController = new users_controller_1.UserController();
    app.post('/api/users', function (req, res) {
        console.log('adding user ' + JSON.stringify(req.body));
        userController.insert(req.body, function (user) {
            res.json(user);
        });
    });
    app.get('/api/users', function (req, res) {
        console.log('getting users');
        userController.getAll(function (users) {
            res.json(users);
        });
    });
    app.get('/api/users/:userid', function (req, res) {
        console.log('getting user _id:' + req.params.userid);
        userController.get(req.params.userid, function (user) {
            res.json(user);
        });
    });
    app.delete('/api/users/:id', function (req, res) {
        console.log('delete user _id: ' + req.params.id);
        userController.delete(req.params.id, function (result) {
            res.json(result);
        });
    });
}
exports.initRoutes = initRoutes;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy9hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlDQUE2QixpQ0FBaUMsQ0FBQyxDQUFBO0FBRS9ELG9CQUEyQixHQUFHO0lBQzFCLElBQUksY0FBYyxHQUFHLElBQUksaUNBQWMsRUFBRSxDQUFDO0lBRTFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7UUFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN2RCxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBQSxJQUFJO1lBQ2hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDLENBQUMsQ0FBQztJQUVILEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7UUFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3QixjQUFjLENBQUMsTUFBTSxDQUFDLFVBQUEsS0FBSztZQUN2QixHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQyxDQUFDLENBQUM7SUFFSCxHQUFHLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JELGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBQSxJQUFJO1lBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztJQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRztRQUNsQyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDakQsY0FBYyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxVQUFBLE1BQU07WUFDdkMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQTlCZSxrQkFBVSxhQThCekIsQ0FBQSIsImZpbGUiOiJyb3V0ZXMvYXBpLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtVc2VyQ29udHJvbGxlcn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3VzZXJzLmNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRSb3V0ZXMoYXBwKSB7XG4gICAgdmFyIHVzZXJDb250cm9sbGVyID0gbmV3IFVzZXJDb250cm9sbGVyKCk7XG5cbiAgICBhcHAucG9zdCgnL2FwaS91c2VycycsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkaW5nIHVzZXIgJyArIEpTT04uc3RyaW5naWZ5KHJlcS5ib2R5KSk7XG4gICAgICAgIHVzZXJDb250cm9sbGVyLmluc2VydChyZXEuYm9keSwgdXNlciA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih1c2VyKTtcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIGFwcC5nZXQoJy9hcGkvdXNlcnMnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2dldHRpbmcgdXNlcnMnKTtcbiAgICAgICAgdXNlckNvbnRyb2xsZXIuZ2V0QWxsKHVzZXJzID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHVzZXJzKTtcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIGFwcC5nZXQoJy9hcGkvdXNlcnMvOnVzZXJpZCcsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnZ2V0dGluZyB1c2VyIF9pZDonICsgcmVxLnBhcmFtcy51c2VyaWQpO1xuICAgICAgICB1c2VyQ29udHJvbGxlci5nZXQocmVxLnBhcmFtcy51c2VyaWQsIHVzZXIgPT4ge1xuICAgICAgICAgICAgcmVzLmpzb24odXNlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYXBwLmRlbGV0ZSgnL2FwaS91c2Vycy86aWQnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSB1c2VyIF9pZDogJyArIHJlcS5wYXJhbXMuaWQpO1xuICAgICAgICB1c2VyQ29udHJvbGxlci5kZWxldGUocmVxLnBhcmFtcy5pZCwgcmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
